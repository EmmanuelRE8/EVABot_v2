<!doctype html>
<html lang="en">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>EmmaBot Projects & Skills Chat</title>
<style>
  :root{ --green:#05a06d; --blue:#1f77b4; --gray:#6b7280; --light:#f7f9f8; }
  body{font-family:Inter,system-ui,-apple-system,Segoe UI,Roboto,Arial; margin:0; background:#fff;}
  .wrap{max-width:900px; margin:0 auto; padding:20px;}
  .card{background:#fff; border:1px solid #e5e7eb; border-radius:18px; box-shadow:0 6px 24px rgba(0,0,0,.06)}
  header{padding:18px 22px; border-bottom:1px solid #eef1f0; display:flex; justify-content:space-between; align-items:center}
  header h1{font-size:18px; margin:0; color:#0f172a}
  header small{color:#475569}
  .chat{padding:16px; height:60vh; overflow:auto; scroll-behavior:smooth;}
  .msg{max-width:74%; margin:8px 0; padding:12px 14px; border-radius:14px; line-height:1.35}
  .me{margin-left:auto; background:var(--blue); color:#fff; border-bottom-right-radius:6px}
  .bot{margin-right:auto; background:var(--light); border:1px solid #e5e7eb; color:#0f172a; border-bottom-left-radius:6px}
  .inputbar{display:flex; gap:10px; padding:12px; border-top:1px solid #eef1f0}
  .inputbar input{flex:1; padding:12px 14px; border:1px solid #e5e7eb; border-radius:12px; font-size:14px}
  .inputbar button{background:var(--green); color:#fff; border:none; padding:12px 16px; border-radius:12px; cursor:pointer; font-weight:600}
  .chips{display:flex; flex-wrap:wrap; gap:8px; padding:12px 16px; border-bottom:1px solid #eef1f0}
  .chip{background:#ecfdf5; color:#065f46; border:1px solid #d1fae5; padding:6px 10px; border-radius:999px; font-size:12px; cursor:pointer}
</style>
</head>
<body>
<div class="wrap">
  <div class="card">
    <header>
      <h1>EmmaBot: Projects & Skills Chat</h1>
      <small>by Emmanuel Rueda Escalona ‚Äî MBAI (Ontario Tech)</small>
    </header>

    <div class="chips" id="chips"></div>
    <div class="chat" id="chat"></div>
    <div class="inputbar">
      <input id="q" placeholder="Ask about my projects, impact, or skills‚Ä¶" />
      <button id="send">Send</button>
    </div>
  </div>
</div>

<script>
const WORKER_URL = "https://<tu-worker>.workers.dev/chat"; // ‚Üê pon aqu√≠ tu URL real m√°s adelante

const chat = document.getElementById("chat");
const input = document.getElementById("q");
const send = document.getElementById("send");
const chips = document.getElementById("chips");
const QUICK = [
  "Tell me about BEATS",
  "Show me your Tableau dashboards impact",
  "What did you automate in Databricks?",
  "How did you lead cross-functional projects?",
  "Tell me about API Creation & Governance"
];

function addMsg(text, who){
  const div = document.createElement("div");
  div.className = `msg ${who}`;
  div.innerHTML = text;
  chat.appendChild(div);
  chat.scrollTop = chat.scrollHeight;
}

async function sendQ(){
  const q = input.value.trim();
  if (!q) return;
  addMsg(q, "me");
  input.value="";
  try{
    const r = await fetch(WORKER_URL, {
      method: "POST",
      headers: { "Content-Type": "application/json" },
      body: JSON.stringify({ query: q })
    });
    const data = await r.json();
    const text = (data.answer || "No answer").replace(/\*\*(.*?)\*\*/g, "<strong>$1</strong>");
    addMsg(text, "bot");
  } catch(e){
    addMsg("Oops, there was a problem. Please try again.", "bot");
  }
}

send.onclick = sendQ;
input.addEventListener("keydown", (e)=>{ if (e.key==="Enter") sendQ(); });

QUICK.forEach(t=>{
  const c = document.createElement("div");
  c.className = "chip";
  c.textContent = t;
  c.onclick = ()=>{ input.value = t; sendQ(); };
  chips.appendChild(c);
});

addMsg("Hi! Ask me about my projects, skills, and impact. üëã", "bot");
</script>
</body>
</html>

